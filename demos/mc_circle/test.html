<!DOCTYPE html>
<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.27.1/plotly.min.js"></script>
    <style>
        /* Container styling */
        .outer-container {
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f5f5f5; /* Added for visibility */
        }

        /* Plot container styling */
        .plot-container {
            width: 80%; /* Adjust as needed */
            max-width: 800px;
            aspect-ratio: 16/9;
            /* Center the plot container itself */
            margin: 0 auto;
            
            /* Optional: Add a border to see the container bounds */
            border: 1px solid #ddd;
            padding: 20px;
            background-color: white;
        }

        /* Ensure the plot is centered within its container */
        .plot-container .js-plotly-plot {
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <!-- Outer container for vertical centering -->
    <div class="outer-container">
        <!-- Plot container -->
        <div class="plot-container">
            <div id="myPlot"></div>
        </div>
    </div>

    <script>
        // Sample data
        const data = [{
            x: [0., 0.2, 0.7, 1],
            y: [0., 0.3, 0.6, 1],
            type: 'scatter'
        }];

        // Layout with centering configurations
        const layout = {
            autosize: true,
            
            // Center the title
            title: {
                text: 'Centered Plot',
                x: 0.5,
                xanchor: 'center',
                y: 0.95
            },

            // Center the legend
            showlegend: true,
            legend: {
                x: 0.5,
                y: -0.1,
                xanchor: 'center',
                yanchor: 'top',
                orientation: 'h'
            },

            // Add some margin for spacing
            margin: {
                l: 50,
                r: 50,
                t: 50,
                b: 50,
                pad: 4
            },
            xaxis: {
                ticks: 'none',
                showticklabels: false,
                range: [0, 1],
                autorange: false,
                showgrid: true,    // removes x-axis grid lines
                zeroline: false,     // removes x-axis zero line
            },
            yaxis: {
                ticks: 'none',
                showticklabels: false,
                range: [0, 1],
                autorange: false,
                showgrid: true,    // removes y-axis grid lines
                zeroline: false,     // removes y-axis zero line
                scaleanchor: "x",
                scaleratio: 1  // 1:1 ratio, modify as needed
            },

            shapes: [
        {
            type: 'circle',
            xref: 'x',
            yref: 'y',
            x0: 0.2,
            y0: 0.2,
            x1: 0.8,
            y1: 0.8,
            // fillcolor: 'rgba(50, 171, 96, 0.7)',
            line: {
                color: 'rgba(50, 171, 96, 1)'
            }
        },
        {
            type: 'rect',
            xref: 'x',
            yref: 'y',
            x0: 0,
            y0: 0,
            x1: 1,
            y1: 1,
            line: {
                width: 1.,
                color: 'rgba(100, 100, 100, 0.4)'
            }
        }
      ]
        };

        // Configuration
        const config = {
            responsive: true,
            displayModeBar: true,
            displaylogo: false
        };

        // Create the plot
        Plotly.newPlot('myPlot', data, layout, config);

        // Optional: Resize handler for perfect centering
        window.addEventListener('resize', function() {
            Plotly.Plots.resize('myPlot');
        });
    </script>
</body>
</html>